<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Wrapper to easily apply a function to an object in parallel — go_parallel • donovanr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Wrapper to easily apply a function to an object in parallel — go_parallel" />

<meta property="og:description" content="This function takes takes an array (vector, list, matrix, dataframe) and performs an operation on it in parallel.
The workflow is as follows: (1) take a array (eg. dataframe) and divide into equal segments based on the number of cores;
(2) use mclapply to loop through the divided dataframes and apply the function and all other arguments;
(3) take the results and bind back together with the defined method.
Only works on MacOSX and Linux!" />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">donovanr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Wrapper to easily apply a function to an object in parallel</h1>
    
    <div class="hidden name"><code>go_parallel.Rd</code></div>
    </div>

    
    <p>This function takes takes an array (vector, list, matrix, dataframe) and performs an operation on it in parallel.
The workflow is as follows: (1) take a array (eg. dataframe) and divide into equal segments based on the number of cores;
(2) use mclapply to loop through the divided dataframes and apply the function and all other arguments;
(3) take the results and bind back together with the defined method.</p>
<p>Only works on MacOSX and Linux!</p>
    

    <pre class="usage"><span class='fu'>go_parallel</span>(<span class='no'>data</span>, <span class='no'>function_to_apply</span>, <span class='no'>bind_method</span>, <span class='no'>length_counter</span>,
  <span class='kw'>n_cores</span> <span class='kw'>=</span> <span class='kw pkg'>parallel</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/parallel/topics/detectCores'>detectCores</a></span>() - <span class='fl'>1</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>Data set to get split up and analysed</p></td>
    </tr>
    <tr>
      <th>function_to_apply</th>
      <td><p>The function to analyse the data set by</p></td>
    </tr>
    <tr>
      <th>bind_method</th>
      <td><p>Is the method to bind the results back togetehr with e.g. if the output of the function is a dataframe,</p></td>
    </tr>
    <tr>
      <th>length_counter</th>
      <td><p>Is the method in which to count the length of an object e.g. length for vector or list, and nrow for matric or dataframe.
then you want to use the "rbind" method. If it is a list, then use "c". To find out, check the output of the function being used.</p></td>
    </tr>
    <tr>
      <th>n_cores</th>
      <td><p>The number of cores to use. The default is pc number of cores - 1.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>The other named arguments that function will use to analyse the data set.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>It returns whatever is expected to be returned by the function passed.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Basic example</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>:<span class='fl'>10000000</span>
<span class='no'>multiplier</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>x</span>, <span class='no'>y</span>) {<span class='no'>x</span> * <span class='no'>y</span>}
<span class='no'>output</span> <span class='kw'>&lt;-</span> <span class='fu'>go_parallel</span>(<span class='no'>x</span>, <span class='no'>multiplier</span>, <span class='kw'>bind_method</span> <span class='kw'>=</span> <span class='st'>"c"</span>, <span class='kw'>length_counter</span> <span class='kw'>=</span> <span class='st'>"length"</span>, <span class='kw'>n_cores</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='fl'>10</span>)

<span class='co'># Simple features example</span>
<span class='fu'>library</span>(<span class='no'>sf</span>)
<span class='no'>nc</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/sf/topics/st_read'>st_read</a></span>(<span class='fu'>system.file</span>(<span class='st'>"shape/nc.shp"</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"sf"</span>), <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>nc_union_par</span> <span class='kw'>&lt;-</span> <span class='fu'>go_parallel</span>(<span class='no'>nc</span>, <span class='no'>st_union</span>, <span class='kw'>bind_method</span> <span class='kw'>=</span> <span class='st'>"c"</span>, <span class='kw'>length_counter</span> <span class='kw'>=</span> <span class='st'>"nrow"</span>, <span class='kw'>n_cores</span> <span class='kw'>=</span> <span class='fl'>3</span>)

<span class='co'># Note that st_union is expected to return one feature, yet it returns three in this case. To solve this issue, you just need to</span>
<span class='co'># rerun the function on the remaining polygons.</span>
<span class='no'>nc_union</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/sf/topics/geos_combine'>st_union</a></span>(<span class='no'>nc_union_par</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Phil Donovan R..</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

